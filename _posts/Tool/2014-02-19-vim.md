---
layout: post
title: vim使用
category: 工具 
tags: vim
---

* 批量注释：ctrl+v , 选中n行的首列 , I , 注释符 , 按Esc
* 删除注释：ctrl+v , 选中要删除的内容 , d

* 替换：
```
\:%s/^/\/\//g 全局行首添加//注释符
\:2,5s/^/\/\//g 在2~5行首添加//注释符（.表示当前行，$表示最后一行）
\:%s/aa/bb/gc 依次替换（确认按y，跳过按n，全部替换按a，退出按q，ctrl+y表示上滚一行）
```


[参考http://easwy.com/blog/archives/advanced-vim-skills-catalog/](http://easwy.com/blog/archives/advanced-vim-skills-catalog/)
* 游标定位
    0   ^  w  e  $p

* 复制粘帖
    y p ddpp
    map <C-c> "+y
* 切换大小写
    gU  gu

*
    <action>a<object>  如：va{
* 重复
    100iword<Esc>
    .  重复上一个命令

* 动作录制

    qaYp<C-a>q  录制命令qa开始q结束100@执行100遍

<c-p>或<c-n> 自动补全
    (按下<c-n>默认会有补全功能，但是正对于php的补全是：
     将php函数列表放到~/.vim/php_funclist.txt,编辑.vimrc
     "
     au FileType php call AddPHPFuncList()
     function AddPHPFuncList()
         set dictionary-=~/.vim/php_funclist.txt dictionary+=~/.vim//php_funclist.txt
             set complete-=k complete+=k
             endfunction
     "
     )
    整行补全                        CTRL-X CTRL-L
    根据当前文件里关键字补全        CTRL-X CTRL-N
    根据字典补全                    CTRL-X CTRL-K
    根据同义词字典补全              CTRL-X CTRL-T
    根据头文件内关键字补全          CTRL-X CTRL-I
    根据标签补全                    CTRL-X CTRL-]
    补全文件名                      CTRL-X CTRL-F


* 跳转
    '' 跳转到上一次所在位置
    %  括号跳转
    *和#   匹配当前所在单词并跳到下一个匹配的单词

* 缩进
    J  全部选中变成一行
    >  缩进
    =  代码自动缩进


* 打开多个文件
    split vsplit <C-w-方向键>


* taglist
    :TlistOpen 打开taglist窗口
    :TlistClose
    :TlistToggle 打开/关闭taglist窗口

* NERDTree
    :NERDTree
    
* cscope

    find . -type f |grep '\.php$' > cscope.files   由于默认只识别.c文件，需要将项目所有文件导入cscope.files
    cscope -bp        生成文件cscope.out
    cs find s func1   查找
    s: 查找C语言符号，即查找函数名、宏、枚举值等出现的地方
    g: 查找函数、宏、枚举等定义的位置，类似ctags所提供的功能
    d: 查找本函数调用的函数
    c: 查找调用本函数的函数
    t: 查找指定的字符串
    e: 查找egrep模式，相当于egrep功能，但查找速度快多了
    f: 查找并打开文件，类似vim的find功能
    i: 查找包含本文件的文件

    此外:安装后会解决<C-]>跳转时默认跳到第一个的问题，当找到多个则会列出来 
